= Creating and Using Arrays
:toc:
:toc-title: Содержание
:toclevels: 3

== Назначение

Тема "Creating and Using Arrays" является критически важной для экзамена OCA Java SE 8 и фундаментальной для работы с коллекциями данных в Java.
Массивы - это основной способ хранения и обработки множественных данных одного типа. Понимание создания, инициализации, доступа к элементам,
многомерных массивов и типичных ошибок необходимо для написания эффективного Java кода и успешной сдачи экзамена.

== Теория

=== Что такое массивы

Массив в Java - это объект, содержащий фиксированное количество элементов одного типа. Массивы являются ссылочными типами,
даже если содержат примитивные элементы.

**Основные характеристики массивов:**

* Фиксированный размер, определяемый при создании
* Элементы одного типа (примитивного или ссылочного)
* Индексация начинается с 0
* Длина массива доступна через свойство `length`
* Массивы являются объектами в куче

=== Объявление массивов

В Java существует два способа объявления массивов:

**Способ 1 (рекомендуемый):**
[source,java]
----
int[] numbers;        // Массив целых чисел
String[] names;       // Массив строк
boolean[] flags;      // Массив булевых значений
----

**Способ 2 (стиль C):**
[source,java]
----
int numbers[];        // Тоже массив целых чисел
String names[];       // Тоже массив строк
----

Первый способ предпочтительнее, так как тип массива явно выделен.

=== Создание и инициализация массивов

**Создание массива с указанием размера:**
[source,java]
----
int[] numbers = new int[5];           // Создает массив из 5 элементов
String[] names = new String[10];     // Создает массив из 10 элементов
----

**Инициализация при объявлении:**
[source,java]
----
int[] numbers = {1, 2, 3, 4, 5};             // Краткая форма
String[] names = {"Alice", "Bob", "Charlie"}; // Краткая форма

// Полная форма
int[] numbers2 = new int[]{1, 2, 3, 4, 5};
String[] names2 = new String[]{"Alice", "Bob", "Charlie"};
----

**Значения по умолчанию:**

* Числовые типы: 0 (для int, double и т.д.)
* boolean: false
* char: '\u0000' (null character)
* Ссылочные типы: null

=== Доступ к элементам массива

[source,java]
----
int[] numbers = {10, 20, 30, 40, 50};

// Чтение элемента
int firstElement = numbers[0];    // 10
int lastElement = numbers[4];     // 50

// Изменение элемента
numbers[2] = 35;                  // Теперь numbers = {10, 20, 35, 40, 50}

// Получение длины массива
int length = numbers.length;      // 5 (НЕ метод, а свойство!)
----

=== Многомерные массивы

Java поддерживает многомерные массивы как "массивы массивов":

**Двумерные массивы:**
[source,java]
----
// Объявление и создание
int[][] matrix = new int[3][4];    // 3 строки, 4 столбца
int[][] matrix2 = {{1, 2}, {3, 4}, {5, 6}}; // Инициализация

// Доступ к элементам
matrix[0][0] = 10;                 // Первый элемент
int value = matrix2[1][1];         // Получаем 4
----

**Неправильные (jagged) массивы:**
[source,java]
----
int[][] jaggedArray = new int[3][];
jaggedArray[0] = new int[2];       // Первая строка - 2 элемента
jaggedArray[1] = new int[4];       // Вторая строка - 4 элемента
jaggedArray[2] = new int[3];       // Третья строка - 3 элемента
----

=== Итерация по массивам

**Обычный цикл for:**
[source,java]
----
int[] numbers = {1, 2, 3, 4, 5};
for (int i = 0; i < numbers.length; i++) {
    System.out.println(numbers[i]);
}
----

**Расширенный цикл for (enhanced for, for-each):**
[source,java]
----
for (int number : numbers) {
    System.out.println(number);
}
----

== Примеры кода

=== Пример 1: Основы работы с одномерными массивами

Класс `BasicArrayDemo` демонстрирует основы создания и использования массивов:

[source,java]
----
// Будет создан отдельный файл BasicArrayDemo.java
----

**Ключевые аспекты:**

* Различные способы создания и инициализации массивов
* Доступ к элементам и изменение значений
* Использование свойства length
* Итерация различными способами

=== Пример 2: Работа с многомерными массивами

Класс `MultidimensionalArrayDemo` показывает работу с двумерными и трехмерными массивами:

[source,java]
----
// Будет создан отдельный файл MultidimensionalArrayDemo.java
----

**Ключевые аспекты:**

* Создание прямоугольных и неправильных массивов
* Навигация по многомерным структурам
* Практические применения (матрицы, таблицы)

=== Пример 3: Алгоритмы и операции с массивами

Класс `ArrayAlgorithmsDemo` демонстрирует типичные алгоритмы работы с массивами:

[source,java]
----
// Будет создан отдельный файл ArrayAlgorithmsDemo.java
----

**Ключевые аспекты:**

* Поиск элементов в массиве
* Сортировка массивов
* Копирование и сравнение массивов
* Использование Arrays класса

== Примеры вопросов

=== Вопрос 1
Что будет результатом выполнения следующего кода?

[source,java]
----
int[] arr = new int[3];
System.out.println(arr[0] + " " + arr.length);
----

* A) 0 3
* B) null 3 ❌ НЕВЕРНО
* C) 0 4 ❌ НЕВЕРНО
* D) Ошибка компиляции ❌ НЕВЕРНО

*Правильный ответ:* A

*Объяснение:* Элементы массива int инициализируются значением 0 по умолчанию. Свойство length возвращает размер массива (3).

=== Вопрос 2
Какой из следующих способов объявления массива является корректным?

* A) int[] arr = new int[]; ❌ НЕВЕРНО
* B) int[] arr = new int[5];
* C) int arr[] = new int[]; ❌ НЕВЕРНО
* D) int[] arr = new int[3.5]; ❌ НЕВЕРНО

*Правильный ответ:* B

*Объяснение:* При создании массива с оператором new необходимо указать размер массива. Размер должен быть целым числом.

=== Вопрос 3
Что произойдет при выполнении кода?

[source,java]
----
int[] arr = {1, 2, 3};
System.out.println(arr[3]);
----

* A) Выведет 0 ❌ НЕВЕРНО
* B) Выведет null ❌ НЕВЕРНО
* C) ArrayIndexOutOfBoundsException
* D) Ошибка компиляции ❌ НЕВЕРНО

*Правильный ответ:* C

*Объяснение:* Попытка доступа к элементу с индексом 3 в массиве размером 3 (индексы 0-2) приводит к исключению во время выполнения.

== Типичные ошибки

=== Ошибка 1: Выход за границы массива

**Проблема:** Попытка доступа к несуществующему индексу массива:
[source,java]
----
int[] arr = new int[5];
int value = arr[5]; // ОШИБКА! Индексы: 0-4
----

**Решение:** Всегда проверяйте границы или используйте условия:
[source,java]
----
int[] arr = new int[5];
if (index >= 0 && index < arr.length) {
    int value = arr[index]; // Безопасный доступ
}
----

=== Ошибка 2: Путаница между length и length()

**Проблема:** Попытка вызвать length() как метод:
[source,java]
----
int[] arr = new int[5];
int size = arr.length(); // ОШИБКА! length - это свойство, не метод
----

**Решение:** Используйте свойство length без скобок:
[source,java]
----
int[] arr = new int[5];
int size = arr.length; // ПРАВИЛЬНО
----

=== Ошибка 3: Инициализация массива ссылочных типов

**Проблема:** Предположение, что элементы массива ссылочных типов инициализированы:
[source,java]
----
String[] names = new String[3];
int length = names[0].length(); // NullPointerException!
----

**Решение:** Явно инициализируйте элементы:
[source,java]
----
String[] names = new String[3];
names[0] = "Alice"; // Инициализация
if (names[0] != null) {
    int length = names[0].length(); // Безопасно
}
----

=== Ошибка 4: Неправильное копирование массивов

**Проблема:** Копирование ссылки вместо содержимого:
[source,java]
----
int[] original = {1, 2, 3};
int[] copy = original; // Копирует ссылку, не массив!
copy[0] = 99;          // Изменяет и original[0]!
----

**Решение:** Используйте правильные методы копирования:
[source,java]
----
int[] original = {1, 2, 3};
int[] copy = Arrays.copyOf(original, original.length);
// или
int[] copy2 = original.clone();
----

== Связанные API

* **java.util.Arrays** - утилитарный класс для работы с массивами (sort, search, compare, copyOf)
* **System.arraycopy()** - быстрое копирование массивов
* **Arrays.toString()** - преобразование массива в строку для отладки
* **Arrays.equals()** - сравнение массивов на равенство содержимого
* **Arrays.fill()** - заполнение массива определенным значением
* **Arrays.binarySearch()** - бинарный поиск в отсортированном массиве

== Связанные темы

* xref:../java-basics/index.adoc[Java Basics]
* xref:../java-data-types/index.adoc[Working with Java Data Types]
* xref:../loops/index.adoc[Using Loop Constructs]
* xref:../operators/index.adoc[Using Operators and Decision Constructs]
* xref:../arraylist/index[Working with Java API - ArrayList]
