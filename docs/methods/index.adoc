= Working with Methods
:toc:
:toc-title: Содержание
:toclevels: 3

== Назначение

Тема "Working with Methods" является одной из ключевых для понимания структуры и функциональности Java программ.
Методы представляют собой блоки кода, которые выполняют определенные задачи и могут быть вызваны из других частей программы.
Правильное понимание объявления методов, передачи параметров, возвращаемых значений и области видимости переменных
критически важно для экзамена OCA и эффективной разработки на Java.

== Теория

=== Объявление методов

Метод в Java объявляется со следующим синтаксисом:
[source,java]
----
[модификаторы] возвращаемый_тип имя_метода([параметры]) [throws исключения] {
    // тело метода
    [return значение;]
}
----

**Компоненты объявления метода:**

* **Модификаторы доступа** - `public`, `private`, `protected`, package-private
* **Другие модификаторы** - `static`, `final`, `abstract`, `synchronized`
* **Возвращаемый тип** - тип данных, который возвращает метод, или `void`
* **Имя метода** - идентификатор, следующий правилам именования Java
* **Список параметров** - входные данные для метода (может быть пустым)
* **Тело метода** - код, который выполняется при вызове метода

=== Вызов методов

Методы вызываются различными способами в зависимости от их типа:

**Статические методы:**
[source,java]
----
ClassName.methodName(arguments);
----

**Методы экземпляра:**
[source,java]
----
objectReference.methodName(arguments);
----

**Методы текущего объекта:**
[source,java]
----
methodName(arguments);
this.methodName(arguments);
----

=== Передача аргументов

Java использует передачу по значению для всех типов данных:

**Примитивные типы:**

* Передается копия значения
* Изменения в методе не влияют на оригинальную переменную

**Ссылочные типы:**

* Передается копия ссылки на объект
* Сам объект остается тем же, изменения объекта видны вне метода
* Присвоение новой ссылки не влияет на оригинальную переменную

=== Возвращаемые значения

**Методы с возвращаемым значением:**

* Должны содержать оператор `return` с соответствующим значением
* Тип возвращаемого значения должен совпадать с объявленным типом
* Все пути выполнения должны возвращать значение

**Методы void:**

* Не возвращают значения
* Могут содержать `return;` для раннего выхода из метода
* `return` в конце метода не обязателен

=== Область видимости переменных

**Локальные переменные:**

* Объявляются внутри методов
* Существуют только во время выполнения метода
* Должны быть инициализированы перед использованием
* Не имеют значений по умолчанию

**Параметры методов:**

* Ведут себя как локальные переменные
* Инициализируются значениями аргументов при вызове
* Имеют область видимости внутри метода

== Примеры кода

=== Пример 1: Основы объявления и вызова методов

Класс `BasicMethodsDemo` демонстрирует различные способы объявления и вызова методов:

[source,java]
----
include::../../src/com/ru/oca/methods/BasicMethodsDemo.java[]
----

**Ключевые аспекты:**

* Различные модификаторы доступа для методов
* Статические и нестатические методы
* Методы с возвращаемыми значениями и void методы
* Правильные способы вызова методов различных типов

=== Пример 2: Передача параметров и возвращаемые значения

Класс `ParameterPassingDemo` показывает особенности передачи параметров в Java:

[source,java]
----
include::../../src/com/ru/oca/methods/ParameterPassingDemo.java[]
----

**Ключевые аспекты:**

* Передача примитивных типов по значению
* Передача ссылочных типов и изменение объектов
* Различие между изменением объекта и переприсваиванием ссылки
* Демонстрация того, что Java всегда передает по значению

=== Пример 3: Область видимости переменных

Класс `VariableScopeDemo` демонстрирует область видимости переменных в методах:

[source,java]
----
include::../../src/com/ru/oca/methods/VariableScopeDemo.java[]
----

**Ключевые аспекты:**

* Локальные переменные и их область видимости
* Параметры методов как локальные переменные
* Необходимость инициализации локальных переменных
* Конфликты имен между параметрами и полями класса

== Примеры вопросов

=== Вопрос 1
Какой из следующих методов объявлен правильно?

* A) `public int calculateSum(int a, int b) { return a + b; }` ✓ ПРАВИЛЬНО
* B) `public calculateSum(int a, int b) { return a + b; }` ❌ НЕВЕРНО
* C) `public int calculateSum(int a, int b) { a + b; }` ❌ НЕВЕРНО
* D) `public void calculateSum(int a, int b) { return a + b; }` ❌ НЕВЕРНО

*Правильный ответ:* A - Метод правильно объявлен с возвращаемым типом int и содержит оператор return.

=== Вопрос 2
Что произойдет с примитивным параметром, если его значение изменить внутри метода?

* A) Изменение повлияет на оригинальную переменную ❌ НЕВЕРНО
* B) Изменение не повлияет на оригинальную переменную ✓ ПРАВИЛЬНО
* C) Возникнет ошибка компиляции ❌ НЕВЕРНО
* D) Возникнет исключение во время выполнения ❌ НЕВЕРНО

*Правильный ответ:* B - Java передает примитивные типы по значению, изменения в методе не влияют на исходную переменную.

=== Вопрос 3
Какое утверждение о локальных переменных верно?

* A) Локальные переменные автоматически инициализируются значениями по умолчанию ❌ НЕВЕРНО
* B) Локальные переменные видны во всем классе ❌ НЕВЕРНО
* C) Локальные переменные должны быть инициализированы перед использованием ✓ ПРАВИЛЬНО
* D) Локальные переменные могут быть статическими ❌ НЕВЕРНО

*Правильный ответ:* C - Локальные переменные не имеют значений по умолчанию и должны быть инициализированы перед использованием.

== Типичные ошибки

=== Ошибка 1: Отсутствие оператора return
Забывание добавить `return` в методы с возвращаемым типом:
[source,java]
----
public int multiply(int a, int b) {
    int result = a * b;
    // ОШИБКА! Отсутствует return result;
}
----

**Решение:** Всегда добавляйте `return` с соответствующим значением в методы с возвращаемым типом.

=== Ошибка 2: Использование неинициализированных локальных переменных
Попытка использовать локальную переменную до ее инициализации:
[source,java]
----
public void printNumber() {
    int number;
    System.out.println(number); // ОШИБКА! number не инициализирован
}
----

**Решение:** Всегда инициализируйте локальные переменные перед использованием.

=== Ошибка 3: Неправильные ожидания от передачи параметров
Ожидание изменения примитивной переменной через параметр метода:
[source,java]
----
public void changeValue(int x) {
    x = 100; // Не изменяет исходную переменную
}
----

**Решение:** Помните, что Java передает все параметры по значению. Для изменения используйте возвращаемые значения или работу с объектами.

== Связанные API

* `Object.toString()` - базовый метод для строкового представления объекта
* `Object.equals()` - метод для сравнения объектов
* `Object.hashCode()` - метод для получения хеш-кода объекта
* Методы класса `Math` - примеры статических методов
* Методы класса `String` - примеры методов экземпляра

== Связанные темы

* xref:../java-basics/index.adoc[Java Basics]
* xref:../constructors/index.adoc[Constructors]
* xref:../method-overloading/index.adoc[Method Overloading]
* xref:../inheritance/index.adoc[Working with Inheritance]
* xref:../oo-concepts/index.adoc[OO Concepts]
